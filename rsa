#!/usr/bin/python3
import time
import gmpy2
import sys
def factorize_and_print(number):
    # Convert the number to a GMPY2 mpz type
    n = gmpy2.mpz(number)
    # Use GMPY2's factor method to find prime factors
    p, q = gmpy2.next_prime(n), 0
    while not gmpy2.is_prime(q):
        q = n // p
        p = gmpy2.next_prime(p)
    # Print the prime factors
    print(f"{number}={p}*{q}")
def main():
    # Check if the correct number of command-line arguments is provided
    if len(sys.argv) != 2:
        print("Usage: python factorize.py <file>")
        return
    file_path = sys.argv[1]
    start_time = time.time()
    try:
        with open(file_path, 'r') as file:
            for line in file:
                # Read each line of the file and convert it to an integer
                number = int(line.strip())
                # Factorize and print the result for each number
                factorize_and_print(number)
        if time.time() - start_time > 5:
            print("Time limit exceeded")
            exit()
    except FileNotFoundError:
        print(f"File '{file_path}' not found.")
if __name__ == '__main__':
    main()
